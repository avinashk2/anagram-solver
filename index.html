<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anagram Solver</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 0.9em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .results {
            margin-top: 30px;
        }

        .results-header {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 600;
        }

        .results-list {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .result-item {
            background: white;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            animation: slideIn 0.3s ease;
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .no-results {
            text-align: center;
            color: #999;
            padding: 20px;
            font-style: italic;
        }

        .stats {
            margin-top: 15px;
            padding: 15px;
            background: #e8f4f8;
            border-radius: 10px;
            text-align: center;
            color: #555;
            font-size: 0.9em;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Anagram Solver</h1>
        <p class="subtitle">Find all possible anagrams from your letters</p>

        <div id="loading-message" style="text-align: center; color: #667eea; margin-bottom: 20px; font-weight: 600;">
            Loading dictionary (370k+ English words)...
        </div>

        <div class="input-group">
            <label for="letters">Enter Letters:</label>
            <input
                type="text"
                id="letters"
                placeholder="e.g., listen, silent, ayrasl..."
                autocomplete="off"
                disabled
            >
        </div>

        <button id="solve-button" disabled>Find Anagrams</button>

        <div id="results" class="results hidden">
            <div class="results-header">Anagrams Found:</div>
            <div id="resultsList" class="results-list"></div>
            <div id="stats" class="stats"></div>
        </div>
    </div>

    <script>
        // Load comprehensive English word list using an-array-of-english-words library
        let dictionary = [];
        let dictionaryLoaded = false;

        // Load word list on page load
        async function loadDictionary() {
            try {
                // Using comprehensive English words list (370k+ words) from GitHub
                const response = await fetch('https://raw.githubusercontent.com/dwyl/english-words/master/words_alpha.txt');
                const text = await response.text();
                dictionary = text.split('\n').map(word => word.trim()).filter(word => word.length > 0);
                dictionaryLoaded = true;
                document.getElementById('loading-message').style.display = 'none';
                document.getElementById('letters').disabled = false;
                document.getElementById('solve-button').disabled = false;
                console.log(`Loaded ${dictionary.length} English words`);
            } catch (error) {
                console.error('Failed to load dictionary:', error);
                alert('Failed to load word dictionary. Please check your internet connection and refresh the page.');
            }
        }

        // Load dictionary when page loads
        loadDictionary();

        // Fallback small dictionary for demonstration
        const fallbackDictionary = [
            "a", "able", "about", "ace", "act", "actor", "ad", "add", "ae", "age", "aged", "ago", "aid", "aim", "air", "ale", "all", "alt", "am", "an", "and", "angel", "anger", "angle", "ant", "ape", "are", "area", "ark", "arm", "art", "as", "ash", "ask", "at", "ate", "awe",
            "bad", "bag", "bale", "ban", "band", "bane", "bang", "bar", "bare", "barn", "base", "bat", "bate", "be", "bead", "beak", "beam", "bean", "bear", "beast", "beat", "bed", "bee", "been", "beer", "beg", "bell", "belt", "ben", "bend", "bent", "best", "bet", "bid", "big", "bile", "bin", "bind", "bird", "bit", "bite", "blade", "blame", "bland", "blank", "blare", "blast", "blaze", "bled", "blend", "bless", "blind", "boar", "board", "boast", "boat", "bold", "bone", "bore", "born", "both", "bow", "bowl", "box", "boy", "bra", "brad", "braid", "brain", "brake", "bran", "brand", "brave", "bread", "break", "bred", "breed", "bride", "bring", "broad", "broke", "bud", "build", "built", "burn", "burnt", "but",
            "cab", "cable", "cage", "cake", "call", "calm", "came", "can", "cane", "car", "card", "care", "cart", "case", "cast", "cat", "cave", "clad", "claim", "claw", "clay", "clean", "clear", "climb", "cling", "coat", "code", "coin", "cold", "come", "core", "corn", "cost", "cot", "crab", "crane", "crate", "crime", "crow", "crude", "cruel", "cube", "cure", "curl", "cut", "cute",
            "dab", "dale", "dam", "dame", "damn", "dance", "dane", "dangle", "dare", "dark", "darn", "dart", "date", "dawn", "dead", "deaf", "deal", "dealt", "dean", "dear", "deb", "debt", "den", "dental", "detail", "dial", "die", "dig", "dime", "dine", "diner", "dire", "dirt", "do", "dog", "dome", "done", "door", "dose", "dot", "drag", "drain", "drake", "dram", "drank", "drape", "draw", "drawer", "drawn", "dread", "dream", "dreamt", "drew", "drink", "drive", "driven", "drop", "drove", "dub", "duel", "dug", "dune",
            "each", "eager", "eagle", "ear", "earl", "earlier", "early", "earn", "earth", "ease", "easier", "easily", "east", "easy", "eat", "ed", "edge", "eel", "eight", "either", "el", "elm", "else", "end", "era", "evil", "ew",
            "fable", "face", "fade", "fail", "fain", "fair", "fame", "fan", "fang", "far", "fare", "farm", "fast", "fat", "fate", "fear", "feast", "feat", "fed", "fee", "feed", "feel", "felt", "fend", "fern", "file", "fill", "film", "fin", "find", "fine", "finger", "fire", "firm", "fir", "fit", "five", "flag", "flake", "flame", "flare", "flat", "flaw", "fled", "flee", "flesh", "flew", "fling", "float", "flow", "flown", "foal", "foam", "foe", "fog", "fold", "for", "ford", "form", "fort", "foul", "four", "fowl", "frame", "free", "from", "frown", "fuel", "full", "fur",
            "gable", "gain", "gale", "gall", "game", "gang", "gar", "garb", "garden", "gas", "gate", "gave", "gel", "germ", "get", "girl", "give", "given", "glad", "glance", "gland", "glare", "glean", "glen", "glide", "global", "glow", "go", "goal", "goat", "god", "gold", "gone", "good", "gore", "got", "grab", "grace", "grade", "grain", "grand", "grant", "grape", "grate", "grave", "great", "greed", "green", "grew", "grid", "grim", "grin", "grind", "groan", "grow", "grown", "guard", "guide", "gum", "gun",
            "had", "hail", "hair", "hale", "hall", "halt", "ham", "hand", "handle", "hang", "hanger", "hard", "hare", "harm", "hart", "has", "haste", "hat", "hate", "have", "he", "head", "heal", "heap", "hear", "heard", "heart", "heat", "held", "hell", "helm", "help", "hem", "hen", "her", "herd", "here", "hero", "hew", "hid", "hide", "hie", "high", "hilt", "him", "hind", "hint", "hire", "his", "hit", "hoe", "hog", "hold", "hole", "home", "hone", "hood", "hope", "horde", "horn", "horse", "hose", "hot", "hound", "hour", "house", "how", "hue", "hug", "huge", "hum", "hung", "hunt", "hurl", "hurt",
            "ice", "id", "idea", "ideal", "idle", "idol", "if", "ill", "image", "in", "inch", "into", "ion", "ire", "iron", "is", "island", "isle", "it", "item",
            "jab", "jade", "jail", "jam", "jar", "jaw", "jet", "jig", "job", "jog", "join", "joint", "jot", "jug", "juice",
            "kale", "keen", "keep", "keg", "ken", "kept", "key", "kid", "kill", "kiln", "kin", "kind", "king", "kit", "kite", "knee", "kneel", "knelt", "knew", "knife", "knit", "knot", "know", "known",
            "lab", "lace", "lad", "laden", "ladle", "lady", "lag", "laid", "lain", "lair", "lake", "lamb", "lame", "lamp", "lance", "land", "lane", "lap", "lard", "large", "larger", "lark", "last", "later", "late", "laud", "law", "lawn", "lay", "layer", "laze", "lead", "leader", "leaf", "lean", "leap", "leapt", "learn", "learnt", "lease", "least", "led", "ledge", "leg", "legal", "legend", "lend", "lens", "lent", "less", "let", "letter", "level", "liar", "lid", "lie", "lied", "lien", "lies", "life", "lift", "light", "like", "limb", "lime", "limp", "line", "linger", "link", "lion", "lip", "list", "listen", "lit", "little", "live", "lived", "liver", "lo", "load", "loaf", "loam", "loan", "lobe", "lodge", "loft", "log", "loin", "lone", "long", "longer", "lop", "lope", "lore", "lorn", "lose", "lost", "lot", "loud", "love", "low", "lower", "lug", "lure", "lute",
            "mad", "made", "maid", "maiden", "mail", "maim", "main", "make", "maker", "male", "mall", "malt", "man", "mane", "mangle", "mar", "mare", "mark", "mart", "mast", "master", "mat", "mate", "me", "mead", "meal", "mean", "means", "meant", "measure", "meat", "medal", "melt", "men", "mend", "mental", "mere", "merit", "merman", "met", "metal", "mid", "mile", "milk", "mill", "milt", "min", "mind", "mine", "miner", "mint", "mire", "miser", "mist", "mite", "mix", "moan", "moat", "mob", "mode", "model", "mold", "mole", "mop", "mope", "moral", "more", "morn", "most", "mote", "moth", "motor", "mow", "mower", "mown", "mud", "mug", "mule", "mute",
            "nab", "nag", "nail", "name", "nap", "nape", "near", "neat", "need", "nest", "net", "new", "nib", "nice", "nil", "nip", "no", "noble", "nod", "node", "none", "nor", "norm", "normal", "north", "nose", "not", "note", "now", "nub", "null", "numb", "nut",
            "oaf", "oak", "oar", "oat", "od", "ode", "of", "off", "oft", "often", "oh", "oil", "old", "older", "on", "once", "one", "only", "onset", "opal", "open", "opera", "or", "oral", "orb", "order", "ore", "organ", "other", "ought", "our", "out", "oval", "oven", "over", "owe", "owl", "own", "owner",
            "pace", "pack", "pact", "pad", "page", "paid", "pail", "pain", "paint", "pair", "pal", "pale", "pall", "palm", "pan", "pane", "panel", "pang", "pant", "par", "pare", "parent", "park", "part", "pas", "pass", "past", "paste", "pat", "patch", "pate", "path", "patrol", "paw", "pawn", "pay", "pea", "peace", "peak", "peal", "pear", "pearl", "peat", "peg", "pen", "penal", "pend", "pent", "per", "perm", "pert", "pest", "pet", "petal", "phase", "phone", "pie", "pier", "pig", "pile", "pill", "pin", "pine", "ping", "pint", "pit", "place", "plague", "plain", "plan", "plane", "planet", "plank", "plant", "plate", "platen", "play", "plea", "plead", "please", "pled", "pledge", "plot", "plow", "plum", "pod", "poem", "poet", "point", "pole", "poll", "ponder", "pond", "pong", "pore", "pork", "port", "portal", "pose", "post", "pot", "pour", "pout", "power", "present", "pride", "prim", "prime", "print", "probe", "prod", "prom", "prone", "prong", "prove", "proven", "pub", "pull", "pun", "punt", "pup", "pure", "purge", "put",
            "quart", "quartz", "queen", "quell", "quest", "quick", "quiet", "quill", "quilt", "quit", "quite", "quota", "quote",
            "rag", "rage", "raid", "rail", "rain", "raise", "rake", "ram", "ramp", "ran", "ranch", "rand", "rang", "range", "ranger", "rank", "rant", "rap", "rape", "rare", "rarely", "rash", "rasp", "rat", "rate", "rather", "rave", "raw", "ray", "raze", "reach", "read", "ready", "real", "really", "realm", "reap", "rear", "reason", "reb", "red", "reed", "reel", "reign", "rein", "relax", "relay", "rend", "rent", "repast", "repeat", "reps", "rest", "ret", "retch", "reward", "rib", "rice", "rich", "rid", "ride", "ridge", "rife", "rift", "rig", "right", "rim", "rime", "rind", "ring", "rink", "riot", "rip", "ripe", "ripen", "rise", "risen", "rite", "rival", "river", "road", "roam", "roan", "roar", "roast", "rob", "robe", "rod", "rode", "roe", "role", "roll", "Roman", "romp", "rood", "roof", "room", "roost", "root", "rope", "rose", "rot", "rote", "rouge", "round", "rouse", "rout", "route", "rove", "row", "royal", "rub", "rude", "rue", "rug", "ruin", "rule", "ruler", "rum", "rump", "run", "rune", "rung", "runt", "ruse", "rush", "rust", "rut",
            "sab", "saber", "sable", "sac", "sack", "sad", "saddle", "safe", "sag", "sage", "said", "sail", "sailor", "saint", "sake", "sale", "sales", "sally", "salmon", "salon", "salt", "salter", "salute", "salary", "same", "sample", "sand", "sane", "sang", "sank", "sap", "sarge", "sat", "sate", "save", "saw", "say", "scab", "scale", "scalp", "scamp", "scan", "scandal", "scant", "scar", "scare", "scarf", "scat", "scene", "scent", "seal", "seam", "sear", "search", "seat", "see", "seed", "seek", "seem", "seen", "seer", "sell", "send", "senior", "sense", "sent", "serve", "set", "seven", "sew", "sewn", "shade", "shag", "shake", "shale", "shall", "sham", "shame", "shape", "share", "shark", "sharp", "shave", "shaven", "shawl", "she", "shear", "sheath", "shed", "sheen", "sheep", "sheer", "sheet", "shelf", "shell", "shield", "shift", "shin", "shine", "ship", "shire", "shirt", "shoe", "shone", "shoo", "shook", "shoot", "shop", "shore", "shorn", "short", "shot", "should", "shout", "shove", "shovel", "show", "shown", "shred", "shrine", "shrink", "shrunk", "shun", "shut", "sick", "side", "siege", "sigh", "sight", "sign", "signal", "silent", "silk", "sill", "silo", "silt", "silver", "simple", "sin", "since", "sine", "sinew", "sing", "singe", "singer", "single", "sink", "sip", "sir", "sire", "sit", "site", "six", "skate", "skew", "ski", "skid", "skim", "skin", "skip", "skirt", "skull", "sky", "slab", "slack", "slag", "slain", "slake", "slam", "slander", "slang", "slant", "slap", "slash", "slat", "slate", "slave", "slay", "sled", "sleek", "sleep", "sleet", "slept", "slew", "slice", "slick", "slid", "slide", "slight", "slim", "slime", "sling", "slink", "slip", "slit", "slob", "sloe", "slog", "slop", "slope", "slot", "sloth", "slow", "slug", "slum", "slump", "slung", "slunk", "slur", "smack", "small", "smart", "smear", "smell", "smelt", "smile", "smite", "smith", "smoke", "smooth", "smote", "snack", "snag", "snail", "snake", "snap", "snare", "snarl", "sneak", "sneer", "snip", "snipe", "snob", "snore", "snort", "snot", "snout", "snow", "snub", "snug", "so", "soak", "soap", "soar", "sob", "sober", "sod", "soda", "soft", "soil", "sold", "sole", "solid", "solo", "solve", "some", "son", "song", "soon", "soot", "sooth", "sop", "sore", "sorn", "sort", "sot", "sought", "soul", "sound", "soup", "sour", "source", "south", "sow", "sown", "spa", "space", "spade", "span", "spangle", "spar", "spare", "spark", "speak", "spear", "spec", "speech", "speed", "spell", "spelt", "spend", "spent", "sperm", "sphere", "spice", "spider", "spike", "spill", "spilt", "spin", "spine", "spiral", "spire", "spit", "spite", "splash", "split", "spoke", "spoken", "sponge", "spook", "spool", "spoon", "sport", "spot", "spout", "sprain", "sprang", "sprawl", "spray", "spread", "spring", "sprint", "sprout", "spruce", "sprung", "spud", "spun", "spur", "spurn", "spurt", "spy", "square", "squire", "stab", "stable", "stack", "staff", "stag", "stage", "staid", "stain", "stair", "stake", "stale", "stalk", "stall", "stamp", "stand", "stank", "staple", "star", "stare", "stark", "start", "starve", "state", "stave", "stay", "stead", "steak", "steal", "steam", "steed", "steel", "steep", "steer", "stem", "step", "stern", "stew", "stick", "stiff", "still", "stilt", "sting", "stink", "stint", "stir", "stitch", "stock", "stoke", "stole", "stomp", "stone", "stood", "stool", "stoop", "stop", "store", "stork", "storm", "story", "stout", "stove", "stow", "strain", "strait", "strand", "strange", "stranger", "strap", "straw", "stray", "streak", "stream", "street", "strength", "stretch", "strew", "strewn", "stride", "strike", "string", "strip", "stripe", "strive", "striven", "strode", "stroke", "stroll", "strong", "stronger", "strove", "struck", "strung", "strut", "stub", "stuck", "stud", "stuff", "stump", "stun", "stung", "stunk", "stunt", "sub", "such", "suck", "sudden", "sue", "suit", "sulk", "sum", "summer", "sun", "sung", "sunk", "sup", "super", "supper", "sure", "surf", "surge", "swab", "swag", "swam", "swamp", "swan", "swap", "sward", "swarm", "swat", "sway", "swear", "sweat", "sweep", "sweet", "swell", "swept", "swift", "swim", "swine", "swing", "swipe", "swirl", "swish", "switch", "swollen", "swoon", "swoop", "sword", "swore", "sworn", "swum", "swung",
            "tab", "table", "tack", "tad", "tag", "tail", "tailor", "take", "taken", "taker", "tale", "talent", "talk", "tall", "taller", "tame", "tamer", "tan", "tang", "tangle", "tank", "tap", "tape", "taper", "tar", "tare", "tarn", "tarp", "tart", "task", "taste", "tat", "taut", "tea", "teach", "teak", "teal", "team", "tear", "tease", "teat", "ted", "tee", "teem", "tell", "temper", "temple", "ten", "tend", "tender", "tense", "tent", "tenth", "term", "tern", "test", "than", "thank", "that", "thaw", "the", "thee", "then", "there", "these", "thew", "they", "thick", "thief", "thin", "thine", "thing", "think", "third", "thorn", "those", "thou", "though", "thought", "thread", "threat", "three", "threw", "thrift", "thrill", "thrive", "throat", "throne", "throng", "throw", "thrown", "thumb", "thump", "thus", "thy", "tick", "tidal", "tide", "tie", "tied", "tier", "tiger", "tight", "tile", "till", "tilt", "timber", "time", "timer", "tin", "tine", "ting", "tinge", "tingle", "tinkle", "tint", "tip", "tire", "toad", "toast", "toe", "toil", "token", "told", "toll", "tomb", "tome", "ton", "tone", "tong", "tongue", "too", "took", "tool", "toot", "tooth", "top", "tope", "tor", "torch", "tore", "torn", "tort", "toss", "tot", "total", "tote", "touch", "tough", "tour", "tout", "tow", "toward", "towel", "tower", "town", "toy", "trace", "track", "tract", "trade", "trader", "trail", "trailer", "train", "trainer", "trait", "traitor", "tramp", "tram", "trance", "trap", "trash", "travel", "trawl", "tray", "tread", "treas", "treasure", "treat", "tree", "trek", "tremble", "trench", "trend", "trial", "tribe", "trick", "tried", "trifle", "trill", "trim", "trip", "tripe", "trite", "trod", "troll", "troop", "trope", "trot", "trouble", "trough", "trout", "trove", "trowel", "truant", "truce", "truck", "trudge", "true", "trump", "trunk", "trust", "truth", "try", "tub", "tube", "tuck", "tuft", "tug", "tulip", "tumble", "tun", "tune", "tuner", "tunnel", "turd", "turf", "turn", "tusk", "tut", "twang", "tweak", "twelve", "twenty", "twig", "twin", "twine", "twinge", "twinkle", "twirl", "twist", "twit", "two",
            "ugh", "ugly", "ulcer", "umber", "umpire", "un", "unable", "uncle", "under", "undo", "undone", "unfit", "unfold", "unholy", "uniform", "union", "unit", "unite", "unity", "unless", "unload", "unlock", "unmade", "unrest", "until", "unto", "untold", "untrue", "unwed", "up", "uphold", "upon", "upper", "ups", "upset", "upward", "urban", "urge", "urn", "us", "use", "used", "user", "usher", "usual",
            "vague", "vain", "vale", "valet", "valid", "value", "valve", "van", "vane", "vang", "vanguard", "vanish", "vapor", "vary", "vase", "vast", "vat", "vault", "veal", "veer", "veil", "vein", "vend", "venom", "vent", "venture", "verge", "verse", "very", "vest", "vet", "veto", "vex", "via", "vial", "vice", "view", "vile", "villa", "village", "vine", "viper", "virgin", "visa", "vise", "visit", "visor", "vital", "void", "volt", "volume", "vote", "voter", "vow", "vowel",
            "wad", "wade", "wader", "wag", "wage", "wager", "wagon", "wail", "waist", "wait", "waiter", "wake", "waken", "wale", "walk", "walker", "wall", "wallet", "wan", "wand", "wander", "wane", "want", "war", "ward", "warden", "ware", "warm", "warmer", "warn", "warp", "was", "wash", "wasp", "waste", "watch", "water", "wave", "waver", "wax", "way", "we", "weak", "weaken", "weaker", "weal", "wealth", "wean", "wear", "weave", "web", "wed", "wedge", "wee", "weed", "week", "weep", "weigh", "weight", "weir", "well", "welt", "wen", "wend", "went", "wept", "were", "west", "wet", "whale", "what", "wheat", "wheel", "when", "where", "whet", "which", "while", "whim", "whine", "whip", "whir", "whirl", "whisper", "whist", "white", "whiten", "whiter", "who", "whole", "whom", "whoop", "whop", "whore", "whose", "why", "wick", "wicker", "wide", "widen", "wider", "widow", "width", "wield", "wife", "wig", "wild", "wilder", "wile", "will", "wilt", "win", "wince", "winch", "wind", "window", "wine", "wing", "wink", "winter", "wipe", "wiper", "wire", "wis", "wise", "wiser", "wish", "wisp", "wit", "witch", "with", "wither", "within", "woe", "woke", "wolf", "woman", "women", "won", "wonder", "wont", "woo", "wood", "woof", "wool", "word", "wore", "work", "worker", "world", "worm", "worn", "worse", "worship", "worst", "worth", "would", "wound", "wove", "woven", "wow", "wrap", "wrath", "wreath", "wreck", "wren", "wrench", "wrest", "wretch", "wring", "wrist", "writ", "write", "writer", "writhe", "written", "wrong", "wrote", "wroth", "wrought", "wrung", "wry",
            "yacht", "yak", "yam", "yank", "yap", "yard", "yarn", "yaw", "yawn", "ye", "yea", "yeah", "year", "yearly", "yearn", "yeast", "yell", "yellow", "yelp", "yen", "yes", "yet", "yew", "yield", "yoke", "yolk", "yon", "yonder", "yore", "you", "young", "younger", "your", "youth", "yow", "yowl",
            "zeal", "zen", "zero", "zest", "zing", "zip", "zone", "zoo", "zoom"
        ];

        // Normalize the input (lowercase, remove spaces)
        function normalizeInput(str) {
            return str.toLowerCase().trim().replace(/\s+/g, '');
        }

        // Sort characters in a string to create a signature
        function sortedSignature(str) {
            return str.split('').sort().join('');
        }

        // Check if a word can be formed from the given letters
        function canFormWord(letters, word) {
            const letterCount = {};
            for (let char of letters) {
                letterCount[char] = (letterCount[char] || 0) + 1;
            }

            for (let char of word) {
                if (!letterCount[char] || letterCount[char] === 0) {
                    return false;
                }
                letterCount[char]--;
            }
            return true;
        }

        function solveAnagram() {
            const input = document.getElementById('letters').value;
            const letters = normalizeInput(input);

            if (!dictionaryLoaded) {
                alert('Dictionary is still loading. Please wait a moment...');
                return;
            }

            if (!letters) {
                alert('Please enter some letters!');
                return;
            }

            // Find all matching anagrams
            const anagrams = new Set();
            const inputSignature = sortedSignature(letters);

            // Method 1: Exact anagrams (same length, same letters)
            dictionary.forEach(word => {
                const wordNorm = normalizeInput(word);
                if (wordNorm.length === letters.length &&
                    sortedSignature(wordNorm) === inputSignature) {
                    anagrams.add(word);
                }
            });

            // Method 2: Sub-anagrams (words that can be formed from the letters)
            dictionary.forEach(word => {
                const wordNorm = normalizeInput(word);
                if (wordNorm.length <= letters.length &&
                    wordNorm.length >= 2 && // At least 2 letters
                    canFormWord(letters, wordNorm)) {
                    anagrams.add(word);
                }
            });

            // Display results
            const resultsDiv = document.getElementById('results');
            const resultsListDiv = document.getElementById('resultsList');
            const statsDiv = document.getElementById('stats');

            if (anagrams.size === 0) {
                resultsListDiv.innerHTML = '<div class="no-results">No anagrams found. Try different letters!</div>';
            } else {
                // Sort by length (longest first) and alphabetically
                const sortedAnagrams = Array.from(anagrams).sort((a, b) => {
                    if (b.length !== a.length) {
                        return b.length - a.length;
                    }
                    return a.localeCompare(b);
                });

                resultsListDiv.innerHTML = sortedAnagrams
                    .map(word => `<div class="result-item">${word} (${word.length} letters)</div>`)
                    .join('');

                const exactCount = sortedAnagrams.filter(w =>
                    normalizeInput(w).length === letters.length
                ).length;

                statsDiv.innerHTML = `Found <strong>${anagrams.size}</strong> anagrams (${exactCount} exact match${exactCount !== 1 ? 'es' : ''}, ${anagrams.size - exactCount} partial)`;
            }

            resultsDiv.classList.remove('hidden');
        }

        // Allow Enter key to trigger search
        document.getElementById('letters').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                solveAnagram();
            }
        });

        // Attach button click event
        document.getElementById('solve-button').addEventListener('click', solveAnagram);
    </script>
</body>
</html>
